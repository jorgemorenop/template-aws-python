AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: >
  template-aws-python

# More info about Globals: https://github.com/awslabs/serverless-application-model/blob/master/docs/globals.rst
Globals:
  Function:
    Timeout: 300
    MemorySize: 256


Parameters:
  Environment:
    Description: Name of the environment to be deployed.
    Type: String

Resources:

  # Note: Autogenerated resources
  # DEFAULT OPTION: LAMBDA

  Function:
    Type: AWS::Serverless::Function # More info about Function Resource: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#awsserverlessfunction
    Properties:
      Description: template-aws-python - my_function
      Environment:
        Variables:
          ENVIRONMENT: !Ref Environment
      CodeUri: functions/my_function/
      Handler: app.lambda_handler
      Runtime: python3.7
#      VpcConfig:
#        SubnetIds: # Your subnets here
#        SecurityGroupIds: # Your SGs here
      Policies:
        - VPCAccessPolicy: {}

  FunctionLogGroup:
    Type: AWS::Logs::LogGroup
    DependsOn: [Function]
    Properties:
      LogGroupName: !Sub /aws/lambda/${Function}
      RetentionInDays: 7
